# mongod.conf - Corrected Configuration File for MongoDB 7+
#
# For a full list of options, see the MongoDB documentation:
# https://www.mongodb.com/docs/manual/reference/configuration-options/

# Where to store data.
storage:
  # The directory where the database files are stored.
  # This path is INSIDE the container and must match the volume mount in docker-compose.yml.
  dbPath: /data/db
  # NOTE: The 'journal' option has been removed. With the WiredTiger storage engine
  # (default in MongoDB 7.0), journaling is always enabled and cannot be disabled.

# How the server writes to the log file.
systemLog:
  # Where to send log output: "file" or "syslog".
  destination: file
  logAppend: true
  # The path for the log file.
  # This path is INSIDE the container and should be mapped to a host volume.
  path: /var/log/mongodb/mongod.log

# Network interfaces.
net:
  # The port the mongod instance will listen on.
  # This MUST match the MONGO_INTERNAL_PORT in your .env file.
  port: 27017
  # The IP addresses the server will listen on.
  # "0.0.0.0" is required for the container to be accessible from outside its own network interface.
  bindIp: 0.0.0.0

# Security settings.
security:
  # Enforces authentication and authorization.
  # The official Docker image's entrypoint script enables this automatically
  # when MONGO_INITDB_ROOT_USERNAME is set, but it is best practice to be explicit.
  authorization: enabled

# You can add other top-level settings here, for example:
# replication:
#   replSetName: "rs0"
#
# processManagement:
#   ...